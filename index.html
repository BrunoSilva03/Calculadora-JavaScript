<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="shortcut icon" href="imagens/Oxygen-Icons.org-Oxygen-Apps-accessories-calculator.256.png"
        type="image/x-icon">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <h1>Calculadora JavaScript</h1>
    <div class="calculadora">
        <!-- <input type="number" name="numberTela" id="numberTela"> -->
        <textarea name="textBox1" id="telaCalculadora" cols="30" rows="5" wrap="off"></textarea>
        <button type="button" class="numberButton" id="id7" onclick="click7()">7</button>
        <button type="button" class="numberButton" id="id8" onclick="click8()">8</button>
        <button type="button" class="numberButton" id="id9" onclick="click9()">9</button>
        <button type="button" class="numberButton" id="id4" onclick="click4()">4</button>
        <button type="button" class="numberButton" id="id5" onclick="click5()">5</button>
        <button type="button" class="numberButton" id="id6" onclick="click6()">6</button>
        <button type="reset" class="numberButton" id="idre" onclick="clickLimpar()">limpar</button>
        <button type="button" class="numberButton" id="id1" onclick="click1()">1</button>
        <button type="button" class="numberButton" id="id2" onclick="click2()">2</button>
        <button type="button" class="numberButton" id="id3" onclick="click3()">3</button>
        <button type="button" class="numberButton" id="id0" onclick="click0()">0</button>
        <button type="button" class="numberButton" id="idponto" onclick="clickPonto()">.</button>
        <button type="submit" class="operadoresButton" id="idigual" onclick="clickIgual()">=</button>
        <button type="button" class="operadoresButton" id="idvezes" onclick="clickVezes()">x</button>
        <button type="button" class="operadoresButton" id="idmenos" onclick="clickMenos()">-</button>
        <button type="button" class="operadoresButton" id="iddividido" onclick="clickDividido()">/</button>
        <button type="button" class="operadoresButton" id="idmais" onclick="clickMais()">+</button>




    </div>

    <script>

        var digit = window.document.getElementById('telaCalculadora');
        var caracteres = 0;
        var numero;
        var numero1;
        var numero2;
        var novoNum;
        var resultado;
        var maisAtivado = false;
        var menosAtivado = false;
        var vezesAtivado = false;
        var divididoAtivado = false;
        var igualAtivado = false;
        var intersecaoMaiseMenos = false;
        var operadorAtivado = false;



        function igualActivate() {
            numero = null;
            numero1 = null;
            numero2 = null;
            maisAtivado = false;
            menosAtivado = false;
            vezesAtivado = false;
            divididoAtivado = false;
            caracteres = 0;
        }


        function click0() {
            if (caracteres == 0) {
                numero = "0";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado) {
                    igualActivate();
                    numero = "0";
                    digit.innerText = numero;
                    caracteres++;
                } else {
                    numero = numero + "0";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }


        function click1() {
            if (caracteres == 0) {
                numero = "1";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "1";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "1";
                    digit.innerText = numero;
                    caracteres++;
                }

            }

            igualAtivado = false;

        }

        function click2() {
            if (caracteres == 0) {
                numero = "2";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "2";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "2";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;
        }

        function click3() {

            if (caracteres == 0) {
                numero = "3";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "3";
                    digit.innerText = numero;
                    caracteres++;

                } else {

                    numero = numero + "3";
                    digit.innerText = numero;
                    caracteres++;

                }



            }

            igualAtivado = false;

        }

        function click4() {

            if (caracteres == 0) {
                numero = "4";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "4";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "4";
                    digit.innerText = numero
                    caracteres++;
                }
            }

            igualAtivado = false;
        }


        function click5() {

            if (caracteres == 0) {
                numero = "5";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "5";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "5";
                    digit.innerText = numero;
                    caracteres++;
                }

            }

            igualAtivado = false;
        }

        function click6() {

            if (caracteres == 0) {
                numero = "6";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "6";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "6";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click7() {

            if (caracteres == 0) {
                numero = "7";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "7";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "7";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click8() {

            if (caracteres == 0) {
                numero = "8";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "8";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "8";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click9() {

            if (caracteres == 0) {
                numero = "9";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "9";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "9";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }





        function clickMais() {
            if (caracteres == 0) {
                digit.innerText = " + ";
            } else {
                if (operadorAtivado) {

                    if (menosAtivado) { //Caso alguém já tenha feito operações de menos e agora esteja fazendo operações de mais também.
                        intersecaoMaiseMenos = true;
                        maisComMenos();
                        numero1 = novoNum;
                        numero = novoNum;
                        digit.innerText = numero + " +";
                        caracteres = 0;
                        menosAtivado = false;
                        maisAtivado = true;
                    }

                    if (vezesAtivado) {
                        maisComVezes();
                        
                    }
                    
                
                } else {
                    if (maisAtivado) {
                        maisConsecutivo();
                    } else {
                        maisSimples();
                    }
                }
            }
            }

            function maisSimples() { //É o mais(+) simples, já tem um número, recebe outro e soma.
                numero1 = Number(numero);
                numero = numero + " +";
                digit.innerText = numero;
                maisAtivado = true;
                caracteres = 0;
            }

            function maisConsecutivo() { //Quando o usuário vai somando sem clicar no igual, soma depois soma de novo e assim por diante.
                numero2 = Number(numero);
                novoNum = numero1 + numero2;
                numero1 = novoNum;
                numero = novoNum;
                digit.innerText = numero + " +";
                caracteres = 0;
            }

            function maisComMenos() {
                numero2 = Number(numero);
                novoNum = numero1 - numero2;
            }

            function maisComVezes() {
                numero2 = Number(numero);
                digit.innerText = numero + " X";
                vezesAtivado = false;
                operadorAtivado = false;
            }


            function clickMenos() {
                if (caracteres == 0) {
                    digit.innerText = " - ";
                } else {
                    if (maisAtivado) { //Caso alguém já tenha feito operações de mais e agora esteja fazendo operações de menos também.
                        intersecaoMaiseMenos = true;
                        menosComMais();
                        numero1 = novoNum;
                        numero = novoNum;
                        digit.innerText = numero + " -";
                        caracteres = 0;
                        maisAtivado = false;
                        menosAtivado = true;
                    } else {
                        if (menosAtivado) {
                            menosConsecutivo();
                        } else {
                            menosSimples();
                        }
                    }
                }
            }

            function menosSimples() {//É o menos(-) simples, já tem um número, recebe outro e subtrai.
                numero1 = Number(numero);
                numero = numero + " -";
                digit.innerText = numero;
                menosAtivado = true;
                caracteres = 0;
            }


            function menosConsecutivo() { //Quando o usuário vai subtraindo sem clicar no igual, subtrai depois subtrai de novo e assim por diante.
                numero2 = Number(numero);
                novoNum = numero1 - numero2;
                numero1 = novoNum;
                numero = novoNum;
                digit.innerText = numero + " -";
                caracteres = 0;
            }


            function menosComMais() {
                numero2 = Number(numero);
                novoNum = numero1 + numero2;
            }


            function clickVezes() {
                if (caracteres == 0) {
                    digit.innerText = " X ";
                } else {
                    if (vezesAtivado) {
                        vezesConsecutivo();
                    } else {
                        vezesSimples();
                    }

                    operadorAtivado = true;

                }
            }

            function vezesSimples() {//é o vezes(*) simples, já tem um número, recebe outro e multiplica.
                numero1 = Number(numero);
                numero = numero + " X";
                digit.innerText = numero;
                vezesAtivado = true;
                caracteres = 0;

            }

            function vezesConsecutivo() { //Quando o usuário vai multiplicando sem clicar no igual, multiplica. depois multiplica de novo e assim por diante.
                numero2 = Number(numero);
                novoNum = numero1 * numero2;
                numero1 = novoNum;
                numero = novoNum;
                digit.innerText = numero + " X";
                caracteres = 0;

            }


            function clickIgual() {
                if (caracteres == 0) {
                    digit.innerText = " = ";
                } else {
                    if (maisAtivado) { //Quando é a operação de Mais(+)
                        numero2 = Number(numero);
                        resultado = numero1 + numero2;
                        digit.innerText = resultado;

                    }

                    if (menosAtivado) { //Quando é operação de subtração(-)
                        numero2 = Number(numero);
                        resultado = numero1 - numero2;
                        digit.innerText = resultado;
                    }

                    if (vezesAtivado) {
                        numero2 = Number(numero);
                        resultado = numero1 * numero2;
                        digit.innerText = resultado;
                    }

                    igualAtivado = true;

                }
            }

            function clickPonto() {
                if (caracteres == 0) {
                    digit.innerText = " . ";
                } else {
                    numero = numero + ".";
                    digit.innerText = numero;
                    caracteres++;
                }
            }



    </script>
</body>

</html>