<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="shortcut icon" href="imagens/Oxygen-Icons.org-Oxygen-Apps-accessories-calculator.256.png"
        type="image/x-icon">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <h1>Calculadora JavaScript</h1>
    <div class="calculadora">
        <!-- <input type="number" name="numberTela" id="numberTela"> -->
        <textarea name="textBox1" id="telaCalculadora" cols="30" rows="5" wrap="off"></textarea>
        <button type="button" class="numberButton" id="id7" onclick="click7()">7</button>
        <button type="button" class="numberButton" id="id8" onclick="click8()">8</button>
        <button type="button" class="numberButton" id="id9" onclick="click9()">9</button>
        <button type="button" class="numberButton" id="id4" onclick="click4()">4</button>
        <button type="button" class="numberButton" id="id5" onclick="click5()">5</button>
        <button type="button" class="numberButton" id="id6" onclick="click6()">6</button>
        <button type="reset" class="numberButton" id="idre" onclick="clickLimpar()">limpar</button>
        <button type="button" class="numberButton" id="id1" onclick="click1()">1</button>
        <button type="button" class="numberButton" id="id2" onclick="click2()">2</button>
        <button type="button" class="numberButton" id="id3" onclick="click3()">3</button>
        <button type="button" class="numberButton" id="id0" onclick="click0()">0</button>
        <button type="button" class="numberButton" id="idponto" onclick="clickPonto()">.</button>
        <button type="submit" class="operadoresButton" id="idigual" onclick="clickIgual()">=</button>
        <button type="button" class="operadoresButton" id="idvezes" onclick="clickVezes()">x</button>
        <button type="button" class="operadoresButton" id="idmenos" onclick="clickMenos()">-</button>
        <button type="button" class="operadoresButton" id="iddividido" onclick="clickDividido()">/</button>
        <button type="button" class="operadoresButton" id="idmais" onclick="clickMais()">+</button>




    </div>

    <script>
        var digit = window.document.getElementById('telaCalculadora');
        var caracteres = 0;
        var numero1;
        var numero2;
        var novoNum;
        var resultado;
        var igualAtivado = false;
        var maisAtivado = false;
        var menosAtivado = false;
        var vezesAtivado = false;
        var divididoAtivado = false;
        var operadorAtivado = false;
        var temNumero = false;




        function igualActivate() {
            numero = null;
            numero1 = null;
            numero2 = null;
            novoNum = null;
            maisAtivado = false;
            menosAtivado = false;
            vezesAtivado = false;
            divididoAtivado = false;
            operadorAtivado = false;
            caracteres = 0;
        }


        function click0() {
            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "0";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado) {
                    igualActivate();
                    numero = "0";
                    digit.innerText = numero;
                    caracteres++;
                } else {
                    numero = numero + "0";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }


        function click1() {
            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "1";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "1";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "1";
                    digit.innerText = numero;
                    caracteres++;
                }

            }

            igualAtivado = false;

        }

        function click2() {
            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "2";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "2";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "2";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;
        }

        function click3() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "3";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "3";
                    digit.innerText = numero;
                    caracteres++;

                } else {

                    numero = numero + "3";
                    digit.innerText = numero;
                    caracteres++;

                }



            }

            igualAtivado = false;

        }

        function click4() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "4";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "4";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "4";
                    digit.innerText = numero
                    caracteres++;
                }
            }

            igualAtivado = false;
        }


        function click5() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "5";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "5";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "5";
                    digit.innerText = numero;
                    caracteres++;
                }

            }

            igualAtivado = false;
        }

        function click6() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "6";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "6";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "6";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click7() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "7";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "7";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "7";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click8() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "8";
                digit.innerText = numero;
                caracteres++
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "8";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "8";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function click9() {

            if (caracteres == 0) {
                if (igualAtivado) {
                    igualActivate();
                }
                numero = "9";
                digit.innerText = numero;
                caracteres++;
            } else {
                if (igualAtivado == true) {
                    igualActivate();
                    caracteres = 0;
                    numero = "9";
                    digit.innerText = numero;
                    caracteres++;
                } else {

                    numero = numero + "9";
                    digit.innerText = numero;
                    caracteres++;
                }
            }

            igualAtivado = false;

        }

        function clickPonto() {
            if (caracteres == 0) {
                digit.innerText = " . ";
            } else {
                numero = numero + ".";
                digit.innerText = numero;
                caracteres++;
            }
        }




        function clickMais() {
            if (caracteres == 0) {
                if (temNumero) { //depois que clica no igual, mas clica no mais aproveitando o resultado que já está na tela para realizar mais cálculos.
                    numero = resultado;
                    maisSimples();
                    igualAtivado = false;
                } else {

                    digit.innerText = " + ";
                    igualActivate(); //lancei esse método para zerar os valores caso tenham.
                }
            } else {
                if (operadorAtivado) {
                    if (menosAtivado) {
                        maisComMenos();
                    } else {
                        maisConsecutivo();
                    }
                } else {
                    maisSimples();
                }
            }
        }

        function maisSimples() { //mais simples, já tem um valor, e a pessoa clica no mais.
            numero1 = Number(numero);
            numero = numero + " +";
            digit.innerText = numero;
            operadorAtivado = true;
            maisAtivado = true;
            caracteres = 0;

        }


        function maisConsecutivo() { //a pessoa ou  o usuário já fez outras contas anteriormente sem clicar no igual e agora está fazendo contas de mais também.
            numero2 = Number(numero);
            novoNum = numero1 + numero2;
            numero1 = novoNum;
            numero = novoNum;
            digit.innerText = numero + " +";
            caracteres = 0;
            maisAtivado = true;

        }


        function maisComMenos() { //quando a pessoa ou o usuário faz cálculos de mais e menos seguidamente sem clicar no igual. E esse é pra usar na função de mais.
            numero2 = Number(numero);
            novoNum = numero1 - numero2;
            numero1 = novoNum;
            numero = novoNum;
            digit.innerText = numero + " +";
            caracteres = 0;
            menosAtivado = false; 
            maisAtivado = true;
        }

        function clickMenos() {
            if (caracteres == 0) {
                if (temNumero) { //depois que clica no igual, mas clica no menos aproveitando o resultado que já está na tela para realizar mais cálculos.
                    numero = resultado;
                    menosSimples();
                    igualAtivado = false;
                } else {
                    digit.innerText = " - ";
                    igualActivate();
                }
            } else {
                if (operadorAtivado) {
                    if (maisAtivado) {
                        menosComMais();
                    } else {

                        menosConsecutivo();
                    }
                } else {
                    menosSimples()
                }
            }
        }

        function menosSimples() { //menos simples, já tem um valor, e a pessoa clica no menos.
            numero1 = Number(numero);
            numero = numero + " -";
            digit.innerText = numero;
            operadorAtivado = true;
            menosAtivado = true;
            caracteres = 0;
        }


        function menosConsecutivo() { //a pessoa ou o usuário já fez outras contas anteriormente sem clicar no igual e agora está fazendo contas de menos também.
            numero2 = Number(numero);
            novoNum = numero1 - numero2;
            numero1 = novoNum;
            numero = novoNum;
            digit.innerText = numero + " -";
            caracteres = 0;
        }

        function menosComMais() { //quando a pessoa ou o usuário faz cálculos de menos e mais consecutivamente sem clicar no botão de igual.Esse é pra usar na função de menos.
            numero2 = Number(numero);
            novoNum = numero1 + numero2;
            numero1 = novoNum;
            numero = novoNum;
            digit.innerText = numero + " -";
            caracteres = 0;
            maisAtivado = false;
            menosAtivado = true;
        }


        function clickVezes() {  
            if (caracteres == 0) {
                if (temNumero) {
                    numero = resultado;
                    vezesSimples();
                    igualAtivado = false;
                } else {
                    digit.innerText = " X ";
                    igualActivate();
                }
            } else {
                if (operadorAtivado) {
                    if (maisAtivado) {
                        vezesConsecutivo();
                    }
                } else {
                    vezesSimples();
                }
            }
        }

        function vezesSimples() { //vezes simples, já tem um valor, a pessoa clica no vezes.
            numero1 = Number(numero);
            numero = numero + " X";
            digit.innerText = numero;
            operadorAtivado = true;
            vezesAtivado = true;
            caracteres = 0;
        }


        function vezesConsecutivo() { //a pessoa já fez outras contas anteriormente sem clicar no igual e agora está fazendo contas de vezes também.
            numero2 = Number(numero);
            novoNum = numero1 * numero2;
            numero1 = novoNum;
            numero = novoNum;
            digit.innerText = numero + " X";
            caracteres = 0;
        }


        function clickIgual() {
            if (caracteres == 0 && !operadorAtivado) {
                digit.innerText = " = ";
            } else {

                if (maisAtivado) {
                    numero2 = Number(numero);
                    resultado = numero1 + numero2;
                    digit.innerText = resultado;
                    caracteres = 0;
                    maisAtivado = false;
                    temNumero = true;
                    igualAtivado = true;
                }

                if (menosAtivado) {
                    numero2 = Number(numero);
                    resultado = numero1 - numero2;
                    digit.innerText = resultado;
                    caracteres = 0;
                    menosAtivado = false;
                    temNumero = true;
                    igualAtivado = true;
                }

                if (vezesAtivado) {
                    numero2 = Number(numero);
                    resultado = numero1 * numero2;
                    digit.innerText = resultado;
                    caracteres = 0;
                    vezesAtivado = false;
                    temNumero = true;
                    igualAtivado = true;
                }


            }
        }

    </script>
</body>

</html>